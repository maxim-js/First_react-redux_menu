{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/programming/JS_task_answers-master/React_step_14/src/components/pages/itemPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport WithRestoService from '../hoc/';\nimport Spinner from '../spinner';\nimport Error from '../error';\nimport { menuLoaded, menuRequested, menuError, addedToCart } from '../../actions';\nimport './itemPage.css';\n\nclass ItemPage extends Component {\n  componentDidMount() {\n    if (this.props.menuItems.length === 0) {\n      this.props.menuRequested();\n      const RestoService = this.props.RestoService;\n      RestoService.getMenuItems().then(res => this.props.menuLoaded(res)).catch(error => this.props.menuError());\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          loading = _this$props.loading,\n          error = _this$props.error,\n          menuItems = _this$props.menuItems;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        className: \"item_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(Error, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }));\n    }\n\n    if (loading) {\n      return React.createElement(\"div\", {\n        className: \"item_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }));\n    }\n\n    const item = menuItems.find(el => +el.id === +this.props.match.params.id);\n    const title = item.title,\n          url = item.url,\n          category = item.category,\n          price = item.price,\n          id = item.id; //console.log(this.props.menuItems)\n\n    return React.createElement(\"div\", {\n      className: \"item_page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"menu__item item_block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"menu__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, title), React.createElement(\"img\", {\n      className: \"menu__img\",\n      src: url,\n      alt: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"menu__category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Category: \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, category)), React.createElement(\"div\", {\n      className: \"menu__price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Price: \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, price, \"$\")), React.createElement(\"button\", {\n      onClick: () => this.props.addedToCart(id),\n      className: \"menu__btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Add to cart\"), React.createElement(\"span\", {\n      className: \"menu__category_Img \".concat(category),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    menuItems: state.menu,\n    loading: state.loading,\n    error: state.error\n  };\n};\n\nconst mapDispatchToProps = {\n  menuLoaded: menuLoaded,\n  menuRequested,\n  menuError,\n  addedToCart\n};\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(ItemPage));","map":{"version":3,"sources":["/Users/macbook/Documents/programming/JS_task_answers-master/React_step_14/src/components/pages/itemPage.js"],"names":["React","Component","connect","WithRestoService","Spinner","Error","menuLoaded","menuRequested","menuError","addedToCart","ItemPage","componentDidMount","props","menuItems","length","RestoService","getMenuItems","then","res","catch","error","render","loading","item","find","el","id","match","params","title","url","category","price","mapStateToProps","state","menu","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport WithRestoService from '../hoc/';\nimport Spinner from '../spinner';\nimport Error from '../error';\nimport {menuLoaded, menuRequested, menuError, addedToCart} from '../../actions';\n\nimport './itemPage.css';\n\n\n\nclass ItemPage extends Component {\n\n    componentDidMount() {\n        if( this.props.menuItems.length === 0){\n            this.props.menuRequested();\n\n            const {RestoService} = this.props;\n            RestoService.getMenuItems()\n                .then(res => this.props.menuLoaded(res))\n                .catch(error => this.props.menuError());\n        }\n    }\n\n    render() {\n        const {loading, error, menuItems} = this.props;\n        if(error) {\n            return (\n                <div className = \"item_page\">\n                    <Error/>\n                </div>\n            )\n        }\n        if(loading) {\n            return (\n                <div className = \"item_page\">\n                    <Spinner/>\n                </div>\n            )\n        }\n        const item = menuItems.find(el => +el.id === +this.props.match.params.id)\n        const{title, url, category, price, id} = item;\n        //console.log(this.props.menuItems)\n\n\n        return (\n            <div className = \"item_page\">\n                <div className=\"menu__item item_block\">\n                     <div className=\"menu__title\">{title}</div>\n                    <img className=\"menu__img\" src={url} alt={title}></img>\n                    <div className=\"menu__category\">Category: <span>{category}</span></div>\n                    <div className=\"menu__price\">Price: <span>{price}$</span></div>\n                    <button onClick = {()=>this.props.addedToCart(id)} className=\"menu__btn\">Add to cart</button>\n                    <span className = {`menu__category_Img ${category}`}></span> \n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n\nconst mapStateToProps =  (state) =>{\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error: state.error\n    }\n}\n\n\nconst mapDispatchToProps = {\n    menuLoaded: menuLoaded,\n    menuRequested,\n    menuError,\n    addedToCart\n}\n\n\nexport default WithRestoService ()( connect(mapStateToProps, mapDispatchToProps)(ItemPage) );"]},"metadata":{},"sourceType":"module"}